	.include 'dpf.inc'

	.area LCDAUX (CODE)

_lcd_custom_init::
;
        mov	uartcon,#0x0
        orl	p1,#0x17
        mov	p3dir,#0x0
        anl	p1dir,#0xe8
        anl	p2dir,#0x1
        anl	p0dir,#0xfa
        orl	wdtcon,#0x20
        clr	LCD_CS
        clr	LCD_RST
        mov	a,#0x96
        lcall	X1565
        setb	LCD_RST
        mov	a,#0x96
        lcall	X1565
;
	mov	dptr,#_custom_initseq
	ljmp	_lcd_init_by_table
;
X1565:	mov	r5,a
X1566:	mov	r6,#0x18
X1568:	mov	r7,#0xfa
X156a:	djnz	r7,X156a
	djnz	r6,X1568
	djnz	r5,X1566
	ret	

;
; If custom backlight handling is needed, uncomment the following label
; and set LCD_BACKLIGHT_CUSTOM in dpfmodel.h
;
;_lcd_custom_setbacklight::

;
; If custom contrast handling is needed, uncomment the following label
; and set LCD_CONTRAST_CUSTOM in dpfmodel.h
;
;_lcd_custom_setcontrast::

	.area LCDAUX (CODE)


;backlight_table::
;	.db	If needed, put data for custom backlight handling here
;_custom_backlighttbl_len::  .db  . - backlight_table


;contrast_table::
;	.db	If needed, put data for custom contrast handling here
;_custom_contrasttbl_len::  .db  . - contrast_table

_custom_contrasttbl::
  .db  0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10
_custom_contrasttbl_len::  .db  7

_custom_contrasttbl2::
  .db  0x71, 0x00, 0x71, 0x00, 0x91, 0x00, 0x91, 0x00, 0xff
_custom_contrasttbl2_len::  .db  9

_custom_contrasttbl2_offsets::
  .db  0x07
_custom_contrasttbl2_offsets_len::  .db  1

_custom_backlighttbl::
  .db  0x00, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f, 0x10, 0x11, 0x12
  .db  0x13, 0x14, 0x15, 0x17, 0x1b, 0x1f, 0x23, 0x27, 0x2b, 0x2d
  .db  0x31, 0x31
_custom_backlighttbl_len::  .db  22

_custom_backlighttbl2::
  .db  0x00, 0x03, 0x06, 0x07, 0x08, 0x09, 0x0a, 0x0a, 0x0b, 0x0b
  .db  0x0c, 0x0c, 0x0d, 0x0d, 0x0f, 0x11, 0x13, 0x15, 0x17, 0x18
  .db  0x18, 0x18
_custom_backlighttbl2_len::  .db  22

_custom_initseq::
  .db  0x72, 0x00, 0xea, 0x92, 0x00, 0x00, 0x72, 0x00, 0xeb, 0x92
  .db  0x00, 0x20, 0x72, 0x00, 0xec, 0x92, 0x00, 0x0c, 0x72, 0x00
  .db  0xed, 0x92, 0x00, 0xc4, 0x72, 0x00, 0xe8, 0x92, 0x00, 0x48
  .db  0x72, 0x00, 0xe9, 0x92, 0x00, 0x38, 0x72, 0x00, 0xf1, 0x92
  .db  0x00, 0x01, 0x72, 0x00, 0xf2, 0x92, 0x00, 0x10, 0x72, 0x00
  .db  0x27, 0x92, 0x00, 0xa3, 0x72, 0x00, 0x2e, 0x92, 0x00, 0x76
  .db  0x72, 0x00, 0x16, 0x92, 0x00, 0x40, 0x72, 0x00, 0x36, 0x92
  .db  0x00, 0x01, 0x72, 0x00, 0x40, 0x92, 0x00, 0x01, 0x72, 0x00
  .db  0x41, 0x92, 0x00, 0x01, 0x72, 0x00, 0x42, 0x92, 0x00, 0x01
  .db  0x72, 0x00, 0x43, 0x92, 0x00, 0x14, 0x72, 0x00, 0x44, 0x92
  .db  0x00, 0x12, 0x72, 0x00, 0x45, 0x92, 0x00, 0x24, 0x72, 0x00
  .db  0x46, 0x92, 0x00, 0x07, 0x72, 0x00, 0x47, 0x92, 0x00, 0x57
  .db  0x72, 0x00, 0x48, 0x92, 0x00, 0x03, 0x72, 0x00, 0x49, 0x92
  .db  0x00, 0x17, 0x72, 0x00, 0x4a, 0x92, 0x00, 0x1b, 0x72, 0x00
  .db  0x4b, 0x92, 0x00, 0x1b, 0x72, 0x00, 0x4c, 0x92, 0x00, 0x18
  .db  0x72, 0x00, 0x50, 0x92, 0x00, 0x1b, 0x72, 0x00, 0x51, 0x92
  .db  0x00, 0x2d, 0x72, 0x00, 0x52, 0x92, 0x00, 0x2b, 0x72, 0x00
  .db  0x53, 0x92, 0x00, 0x3e, 0x72, 0x00, 0x54, 0x92, 0x00, 0x3e
  .db  0x72, 0x00, 0x55, 0x92, 0x00, 0x3e, 0x72, 0x00, 0x56, 0x92
  .db  0x00, 0x28, 0x72, 0x00, 0x57, 0x92, 0x00, 0x78, 0x72, 0x00
  .db  0x58, 0x92, 0x00, 0x07, 0x72, 0x00, 0x59, 0x92, 0x00, 0x04
  .db  0x72, 0x00, 0x5a, 0x92, 0x00, 0x04, 0x72, 0x00, 0x5b, 0x92
  .db  0x00, 0x08, 0x72, 0x00, 0x5c, 0x92, 0x00, 0x1c, 0x72, 0x00
  .db  0x5d, 0x92, 0x00, 0xcc, 0x72, 0x00, 0x1b, 0x92, 0x00, 0x1b
  .db  0x72, 0x00, 0x1a, 0x92, 0x00, 0x01, 0x72, 0x00, 0x24, 0x92
  .db  0x00, 0x2f, 0x72, 0x00, 0x25, 0x92, 0x00, 0x57, 0x72, 0x00
  .db  0x23, 0x92, 0x00, 0x68, 0x72, 0x00, 0x18, 0x92, 0x00, 0x34
  .db  0x72, 0x00, 0x19, 0x92, 0x00, 0x01, 0x72, 0x00, 0x01, 0x92
  .db  0x00, 0x00, 0x72, 0x00, 0x1f, 0x92, 0x00, 0x88, 0xb0, 0x64
  .db  0x72, 0x00, 0x1f, 0x92, 0x00, 0x80, 0xb0, 0x64, 0x72, 0x00
  .db  0x1f, 0x92, 0x00, 0x90, 0xb0, 0x64, 0x72, 0x00, 0x1f, 0x92
  .db  0x00, 0xd0, 0xb0, 0x64, 0x72, 0x00, 0x17, 0x92, 0x00, 0x05
  .db  0x72, 0x00, 0x28, 0x92, 0x00, 0x38, 0xb0, 0x64, 0x72, 0x00
  .db  0x28, 0x92, 0x00, 0x3c, 0x72, 0x00, 0x02, 0x92, 0x00, 0x00
  .db  0x72, 0x00, 0x03, 0x92, 0x00, 0x00, 0x72, 0x00, 0x04, 0x92
  .db  0x00, 0x00, 0x72, 0x00, 0x05, 0x92, 0x00, 0xef, 0x72, 0x00
  .db  0x06, 0x92, 0x00, 0x00, 0x72, 0x00, 0x07, 0x92, 0x00, 0x00
  .db  0x72, 0x00, 0x08, 0x92, 0x00, 0x01, 0x72, 0x00, 0x09, 0x92
  .db  0x00, 0x3f, 0xb0, 0x64, 0x72, 0x00, 0x22, 0xff
_custom_initseq_len::  .db  388

